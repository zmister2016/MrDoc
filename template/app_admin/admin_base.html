{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>{% block title %}{% endblock %}</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="stylesheet" href="{% static 'PearAdminLayui/component/pear/css/pear.css' %}?version={{mrdoc_version}}" />
        <link href="{% static 'mrdoc/mrdoc-admin.css' %}?version={{mrdoc_version}}" rel="stylesheet">
        {% block custom_element %}
        {% endblock %}
	</head>
	<body class="pear-container">
		{% if debug %}
		<div class="layui-card">
			<div class="layui-card-body">
				<div class="layui-card-header" style="margin-bottom: 10px;">
					<blockquote class="layui-elem-quote">{% trans "å½“å‰ç«™ç‚¹å¤„äºDebugè°ƒè¯•æ¨¡å¼" %}</blockquote>
				</div>
			</div>
		</div>
		{% endif %}
		<div class="layui-card">
			<div class="layui-card-body">
				<div class="" style="margin-bottom: 10px;font-weight: 700;color: red;">
					<a href="https://curl.qcloud.com/rVF2jfrZ" style="color: #2176ff;" target="_blank">ğŸ‘‰ã€è…¾è®¯äº‘ã€‘äº‘äº§å“é™æ—¶ç§’æ€ï¼Œçˆ†æ¬¾1æ ¸2Gäº‘æœåŠ¡å™¨ï¼Œé¦–å¹´99å…ƒ</a><br>
					<a href="https://curl.qcloud.com/NbjvQGEE" style="color: #2176ff;" target="_blank">ğŸ‘‰ã€è…¾è®¯äº‘ã€‘å¢ƒå¤–1æ ¸2GæœåŠ¡å™¨ä½è‡³2æŠ˜ï¼ŒåŠä»·ç»­è´¹åˆ¸é™é‡å…è´¹é¢†å–ï¼</a><br>
					<a href="https://curl.qcloud.com/psEDIE4h" style="color: #2176ff;" target="_blank">ğŸ‘‰ã€è…¾è®¯äº‘ã€‘æ¨å¹¿è€…ä¸“å±ç¦åˆ©ï¼Œæ–°å®¢æˆ·æ— é—¨æ§›é¢†å–æ€»ä»·å€¼é«˜è¾¾2860å…ƒä»£é‡‘åˆ¸ï¼Œæ¯ç§ä»£é‡‘åˆ¸é™é‡500å¼ ï¼Œå…ˆåˆ°å…ˆå¾—ã€‚</a><br>
				</div>
			</div>
		</div>
		<div id="layer-photos-demo" class="layer-photos-demo" style="display: none;">
			<img  layer-src="{% static 'dashang/dashang_wx.webp' %}" src="{% static 'dashang/dashang_wx.webp' %}" alt="èœœæº">
		  </div>
		{% block content %}
        {% endblock %}
		<script src="{% static 'PearAdminLayui/component/layui/layui.js' %}?version={{mrdoc_version}}"></script>
		<script src="{% static 'PearAdminLayui/component/pear/pear.js' %}?version={{mrdoc_version}}"></script>
		<script async>
			layui.use(['jquery','layer'], function() {
				let $ = layui.jquery;
				let layer = layui.layer;
				// æ£€æµ‹ç‰ˆæœ¬æ›´æ–°
				checkUpdate = function(){
					$.get("{% url 'check_update' %}",function(r){
						// console.log(r)
						if(r.status){
							var new_version = r.data.name.slice(1,5)
							var current_version = '{{mrdoc_version}}'
							// å¦‚æœå­˜åœ¨æ–°ç‰ˆæœ¬ï¼Œé¡¶éƒ¨æç¤ºdiv
							if(new_version > current_version){
								$("#check_update_div").show()
								layer.msg("å‘ç°æ–°ç‰ˆæœ¬ï¼Œè¯·æ›´æ–°ï¼")
							}else{
								layer.msg("å½“å‰å·²æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼")
							}
						}      
					})
				}
				
				var check_update = window.localStorage.getItem('check_update')
				// console.log(check_update)
				// å¦‚æœæ²¡æœ‰æ£€æµ‹è¿‡ï¼Œç«‹å³æ£€æµ‹
				if(check_update == null){
					checkUpdate();
					window.localStorage.setItem('check_update',new Date().getTime())
				}else{
					// å¦‚æœä¸Šæ¬¡æ£€æµ‹æ—¶é—´è·ä»Šè¶…è¿‡5å¤©ï¼Œå†æ¬¡æ£€æµ‹
					var time_diff = (new Date().getTime() - check_update)/86400000
					// console.log(time_diff)
					if(time_diff > 5){
						checkUpdate()
						window.localStorage.setItem('check_update',new Date().getTime())
					}
				};
			})
		  </script>
        {% block custom_script %}
        {% endblock %}
	</body>
</html>
